<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>åŠ¨ç‰©å›­ç®¡ç†ç³»ç»Ÿ</title>
  <style>
    :root {
      --primary: #4CAF50;
      --light: #E8F5E9;
      --border: #ddd;
    }
    body {
      font-family: "Microsoft YaHei", sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f9fdf9;
      color: #333;
      line-height: 1.5;
    }
    .container {
      max-width: 1100px;
      margin: 0 auto;
    }
    header {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      background: var(--primary);
      color: white;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    h1 { margin: 0; }
    .tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    .tab-btn {
      padding: 10px 20px;
      background: white;
      border: 1px solid var(--border);
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s;
    }
    .tab-btn:hover, .tab-btn.active {
      background: var(--primary);
      color: white;
    }
    .tab-content { display: none; }
    .tab-content.active { display: block; }

    /* è¡¨æ ¼é€šç”¨æ ·å¼ */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
      background: white;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }
    th, td {
      padding: 10px 12px;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }
    th {
      background-color: var(--light);
      font-weight: bold;
      position: sticky;
      top: 0;
    }
    tr:hover { background-color: #f9f9f9; }

    /* è¡¨å•æ ·å¼ */
    .form-section {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 30px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }
    .form-title {
      margin-top: 0;
      color: var(--primary);
      border-left: 4px solid var(--primary);
      padding-left: 10px;
    }
    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 15px;
    }
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 8px;
      border: 1px solid var(--border);
      border-radius: 4px;
      box-sizing: border-box;
    }
    .btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 10px;
    }
    .btn:hover { background: #388E3C; }
    .msg { 
      padding: 10px; 
      margin: 10px 0; 
      border-radius: 4px; 
      display: none; 
    }
    .msg.success { background: #E8F5E9; color: #2E7D32; border: 1px solid #A5D6A7; }
    .msg.error { background: #FFEBEE; color: #C62828; border: 1px solid #EF9A9A; }

    footer {
      text-align: center;
      margin-top: 40px;
      color: #777;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸ˜ åŠ¨ç‰©å›­ä¿¡æ¯ç®¡ç†ç³»ç»Ÿ</h1>
    </header>

    <!-- æ ‡ç­¾é¡µå¯¼èˆª -->
    <div class="tabs">
      <button class="tab-btn active" data-tab="enclosure">å±•åŒºä¿¡æ¯</button>
      <button class="tab-btn" data-tab="animal">åŠ¨ç‰©ä¿¡æ¯</button>
      <button class="tab-btn" data-tab="staff">å‘˜å·¥ä¿¡æ¯</button>
      <button class="tab-btn" data-tab="feed">é¥²æ–™ä¿¡æ¯</button>
      <button class="tab-btn" data-tab="feeding">æŠ•å–‚è®°å½•</button>
    </div>

    <!-- å±•åŒºä¿¡æ¯ -->
    <div id="enclosure" class="tab-content active">
      <div class="form-section">
        <h3 class="form-title">ğŸŸ¢ æ–°å¢å±•åŒº</h3>
        <div class="form-grid">
          <div><label>å±•åŒºç¼–å·</label><input id="enid" placeholder="å¦‚ E001"></div>
          <div><label>åç§°</label><input id="ename" placeholder="å¦‚ çŒ´å±±"></div>
          <div><label>å®¹é‡</label><input id="ecapacity" type="number" placeholder="å¦‚ 20"></div>
          <div><label>çŠ¶æ€</label>
            <select id="estatus">
              <option value="å¼€æ”¾">å¼€æ”¾</option>
              <option value="ç»´ä¿®ä¸­">ç»´ä¿®ä¸­</option>
            </select>
          </div>
        </div>
        <button class="btn" onclick="addEnclosure()">â• æ·»åŠ å±•åŒº</button>
        <div id="enclosureMsg" class="msg"></div>
      </div>

      <h3>ğŸ“‹ å±•åŒºåˆ—è¡¨</h3>
      <table id="enclosureTable">
        <thead>
          <tr><th>å±•åŒºç¼–å·</th><th>åç§°</th><th>å®¹é‡</th><th>çŠ¶æ€</th></tr>
        </thead>
        <tbody>
          <tr><td>E001</td><td>çŒ´å±±</td><td>20</td><td>å¼€æ”¾</td></tr>
          <tr><td>E002</td><td>çŒ›å…½åŒº</td><td>10</td><td>å¼€æ”¾</td></tr>
          <tr><td>E003</td><td>æ°´æ—é¦†</td><td>15</td><td>ç»´ä¿®ä¸­</td></tr>
        </tbody>
      </table>
    </div>

    <!-- åŠ¨ç‰©ä¿¡æ¯ -->
    <div id="animal" class="tab-content">
      <div class="form-section">
        <h3 class="form-title">ğŸ’ æ–°å¢åŠ¨ç‰©</h3>
        <div class="form-grid">
          <div><label>åŠ¨ç‰©ç¼–å·</label><input id="anid" placeholder="å¦‚ A001"></div>
          <div><label>åå­—</label><input id="aname" placeholder="å¦‚ ä¹ä¹"></div>
          <div><label>ç§ç±»</label><input id="aspecies" placeholder="å¦‚ é‡‘ä¸çŒ´"></div>
          <div><label>æ€§åˆ«</label>
            <select id="agender">
              <option value="â™‚">â™‚ é›„æ€§</option>
              <option value="â™€">â™€ é›Œæ€§</option>
            </select>
          </div>
          <div><label>å‡ºç”Ÿæ—¥æœŸ</label><input id="abirth" type="date"></div>
          <div><label>æ‰€åœ¨å±•åŒº</label>
            <select id="aenid">
              <option value="E001">çŒ´å±± (E001)</option>
              <option value="E002">çŒ›å…½åŒº (E002)</option>
              <option value="E003">æ°´æ—é¦† (E003)</option>
            </select>
          </div>
        </div>
        <button class="btn" onclick="addAnimal()">â• æ·»åŠ åŠ¨ç‰©</button>
        <div id="animalMsg" class="msg"></div>
      </div>

      <h3>ğŸ“‹ åŠ¨ç‰©åˆ—è¡¨</h3>
      <table id="animalTable">
        <thead>
          <tr><th>åŠ¨ç‰©ç¼–å·</th><th>åå­—</th><th>ç§ç±»</th><th>æ€§åˆ«</th><th>å‡ºç”Ÿæ—¥æœŸ</th><th>æ‰€åœ¨å±•åŒº</th></tr>
        </thead>
        <tbody>
          <tr><td>A001</td><td>ä¹ä¹</td><td>é‡‘ä¸çŒ´</td><td>â™‚</td><td>2020-05-12</td><td>E001</td></tr>
          <tr><td>A002</td><td>å¥‡å¥‡</td><td>çŒ•çŒ´</td><td>â™€</td><td>2021-03-08</td><td>E001</td></tr>
        </tbody>
      </table>
    </div>

    <!-- å‘˜å·¥ä¿¡æ¯ -->
    <div id="staff" class="tab-content">
      <div class="form-section">
        <h3 class="form-title">ğŸ‘· æ–°å¢å‘˜å·¥</h3>
        <div class="form-grid">
          <div><label>å‘˜å·¥ç¼–å·</label><input id="sid" placeholder="å¦‚ S001"></div>
          <div><label>å§“å</label><input id="sname" placeholder="å¦‚ å¼ ä¼Ÿ"></div>
          <div><label>èŒä½</label>
            <select id="srole">
              <option value="é¥²å…»å‘˜">é¥²å…»å‘˜</option>
              <option value="å…½åŒ»">å…½åŒ»</option>
              <option value="ç®¡ç†å‘˜">ç®¡ç†å‘˜</option>
              <option value="è®²è§£å‘˜">è®²è§£å‘˜</option>
            </select>
          </div>
          <div><label>è´Ÿè´£å±•åŒº</label>
            <select id="senid">
              <option value="E001">çŒ´å±± (E001)</option>
              <option value="E002">çŒ›å…½åŒº (E002)</option>
              <option value="E003">æ°´æ—é¦† (E003)</option>
            </select>
          </div>
        </div>
        <button class="btn" onclick="addStaff()">â• æ·»åŠ å‘˜å·¥</button>
        <div id="staffMsg" class="msg"></div>
      </div>

      <h3>ğŸ“‹ å‘˜å·¥åˆ—è¡¨</h3>
      <table id="staffTable">
        <thead>
          <tr><th>å‘˜å·¥ç¼–å·</th><th>å§“å</th><th>èŒä½</th><th>è´Ÿè´£å±•åŒº</th></tr>
        </thead>
        <tbody>
          <tr><td>S001</td><td>å¼ ä¼Ÿ</td><td>é¥²å…»å‘˜</td><td>E001</td></tr>
          <tr><td>S002</td><td>æå¨œ</td><td>å…½åŒ»</td><td>E002</td></tr>
        </tbody>
      </table>
    </div>

    <!-- é¥²æ–™ä¿¡æ¯ -->
    <div id="feed" class="tab-content">
      <div class="form-section">
        <h3 class="form-title">ğŸ¥œ æ–°å¢é¥²æ–™</h3>
        <div class="form-grid">
          <div><label>é¥²æ–™ç¼–å·</label><input id="fid" placeholder="å¦‚ F001"></div>
          <div><label>åç§°</label><input id="fname" placeholder="å¦‚ é¦™è•‰"></div>
          <div><label>åº“å­˜æ•°é‡</label><input id="fstock" type="number" placeholder="å¦‚ 100"></div>
          <div><label>å•ä½</label>
            <select id="funit">
              <option value="kg">kg</option>
              <option value="åŒ…">åŒ…</option>
              <option value="æ ¹">æ ¹</option>
            </select>
          </div>
        </div>
        <button class="btn" onclick="addFeed()">â• æ·»åŠ é¥²æ–™</button>
        <div id="feedMsg" class="msg"></div>
      </div>

      <h3>ğŸ“‹ é¥²æ–™åˆ—è¡¨</h3>
      <table id="feedTable">
        <thead>
          <tr><th>é¥²æ–™ç¼–å·</th><th>åç§°</th><th>åº“å­˜æ•°é‡</th><th>å•ä½</th></tr>
        </thead>
        <tbody>
          <tr><td>F001</td><td>é¦™è•‰</td><td>150</td><td>kg</td></tr>
          <tr><td>F002</td><td>ç‰›è‚‰</td><td>80</td><td>kg</td></tr>
        </tbody>
      </table>
    </div>

    <!-- æŠ•å–‚è®°å½• -->
    <div id="feeding" class="tab-content">
      <div class="form-section">
        <h3 class="form-title">ğŸ¥£ æ–°å¢æŠ•å–‚è®°å½•</h3>
        <div class="form-grid">
          <div><label>æ—¶é—´</label><input id="ftime" type="datetime-local"></div>
          <div><label>åŠ¨ç‰©</label>
            <select id="fanimal">
              <option value="A001">ä¹ä¹ (A001)</option>
              <option value="A002">å¥‡å¥‡ (A002)</option>
            </select>
          </div>
          <div><label>é¥²æ–™</label>
            <select id="ffeed">
              <option value="F001">é¦™è•‰ (F001)</option>
              <option value="F002">ç‰›è‚‰ (F002)</option>
            </select>
          </div>
          <div><label>å‘˜å·¥</label>
            <select id="femployee">
              <option value="S001">å¼ ä¼Ÿ (S001)</option>
              <option value="S002">æå¨œ (S002)</option>
            </select>
          </div>
          <div><label>æ•°é‡</label><input id="fquantity" type="number" step="0.1" placeholder="å¦‚ 2.5"></div>
        </div>
        <button class="btn" onclick="addFeeding()">â• æ·»åŠ è®°å½•</button>
        <div id="feedingMsg" class="msg"></div>
      </div>

      <h3>ğŸ“‹ æŠ•å–‚è®°å½•</h3>
      <table id="feedingTable">
        <thead>
          <tr><th>æ—¶é—´</th><th>åŠ¨ç‰©</th><th>é¥²æ–™</th><th>å‘˜å·¥</th><th>æ•°é‡</th></tr>
        </thead>
        <tbody>
          <tr><td>2025-04-05 09:30</td><td>A001</td><td>F001</td><td>S001</td><td>2.0</td></tr>
          <tr><td>2025-04-05 10:15</td><td>A002</td><td>F001</td><td>S001</td><td>1.5</td></tr>
        </tbody>
      </table>
    </div>

    <footer>
      ğŸ“ æ•°æ®åº“è¯¾ç¨‹è®¾è®¡ tree-big-jeans å°ç»„
    </footer>
  </div>

  <script>
    // æ ‡ç­¾é¡µåˆ‡æ¢
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById(btn.dataset.tab).classList.add('active');
      });
    });

    // å·¥å…·ï¼šæ˜¾ç¤ºæ¶ˆæ¯
    function showMessage(id, text, type) {
      const el = document.getElementById(id);
      el.textContent = text;
      el.className = 'msg ' + type;
      el.style.display = 'block';
      setTimeout(() => { el.style.display = 'none'; }, 3000);
    }

    // æ–°å¢å±•åŒº
    function addEnclosure() {
      const enid = document.getElementById('enid').value.trim();
      const ename = document.getElementById('ename').value.trim();
      const ecapacity = document.getElementById('ecapacity').value;
      const estatus = document.getElementById('estatus').value;
      
      if (!enid || !ename || !ecapacity) {
        showMessage('enclosureMsg', 'âš ï¸ å±•åŒºç¼–å·ã€åç§°ã€å®¹é‡ä¸èƒ½ä¸ºç©º', 'error');
        return;
      }
      
      const row = `<tr><td>${enid}</td><td>${ename}</td><td>${ecapacity}</td><td>${estatus}</td></tr>`;
      document.querySelector('#enclosureTable tbody').insertAdjacentHTML('beforeend', row);
      showMessage('enclosureMsg', 'âœ… å±•åŒºæ·»åŠ æˆåŠŸï¼', 'success');
      
      // æ¸…ç©º & æ›´æ–°ä¸‹æ‹‰é€‰é¡¹
      document.getElementById('enid').value = '';
      document.getElementById('ename').value = '';
      document.getElementById('ecapacity').value = '';
      updateDropdowns(enid, ename, 'en');
    }

    // æ–°å¢åŠ¨ç‰©
    function addAnimal() {
      const anid = document.getElementById('anid').value.trim();
      const aname = document.getElementById('aname').value.trim();
      const aspecies = document.getElementById('aspecies').value.trim();
      const agender = document.getElementById('agender').value;
      const abirth = document.getElementById('abirth').value;
      const aenid = document.getElementById('aenid').value;
      
      if (!anid || !aname || !aspecies || !abirth) {
        showMessage('animalMsg', 'âš ï¸ åŠ¨ç‰©ç¼–å·ã€åå­—ã€ç§ç±»ã€å‡ºç”Ÿæ—¥æœŸå¿…å¡«', 'error');
        return;
      }
      
      const row = `<tr><td>${anid}</td><td>${aname}</td><td>${aspecies}</td><td>${agender}</td><td>${abirth}</td><td>${aenid}</td></tr>`;
      document.querySelector('#animalTable tbody').insertAdjacentHTML('beforeend', row);
      showMessage('animalMsg', 'âœ… åŠ¨ç‰©æ·»åŠ æˆåŠŸï¼', 'success');
      
      // æ¸…ç©º & æ›´æ–°åŠ¨ç‰©ä¸‹æ‹‰ï¼ˆç”¨äºæŠ•å–‚ï¼‰
      document.getElementById('anid').value = '';
      document.getElementById('aname').value = '';
      updateDropdowns(anid, aname, 'animal');
    }

    // æ–°å¢å‘˜å·¥
    function addStaff() {
      const sid = document.getElementById('sid').value.trim();
      const sname = document.getElementById('sname').value.trim();
      const srole = document.getElementById('srole').value;
      const senid = document.getElementById('senid').value;
      
      if (!sid || !sname) {
        showMessage('staffMsg', 'âš ï¸ å‘˜å·¥ç¼–å·ã€å§“åå¿…å¡«', 'error');
        return;
      }
      
      const row = `<tr><td>${sid}</td><td>${sname}</td><td>${srole}</td><td>${senid}</td></tr>`;
      document.querySelector('#staffTable tbody').insertAdjacentHTML('beforeend', row);
      showMessage('staffMsg', 'âœ… å‘˜å·¥æ·»åŠ æˆåŠŸï¼', 'success');
      
      // æ¸…ç©º & æ›´æ–°å‘˜å·¥ä¸‹æ‹‰
      document.getElementById('sid').value = '';
      document.getElementById('sname').value = '';
      updateDropdowns(sid, sname, 'staff');
    }

    // æ–°å¢é¥²æ–™
    function addFeed() {
      const fid = document.getElementById('fid').value.trim();
      const fname = document.getElementById('fname').value.trim();
      const fstock = document.getElementById('fstock').value;
      const funit = document.getElementById('funit').value;
      
      if (!fid || !fname || fstock === '') {
        showMessage('feedMsg', 'âš ï¸ é¥²æ–™ç¼–å·ã€åç§°ã€åº“å­˜å¿…å¡«', 'error');
        return;
      }
      
      const row = `<tr><td>${fid}</td><td>${fname}</td><td>${fstock}</td><td>${funit}</td></tr>`;
      document.querySelector('#feedTable tbody').insertAdjacentHTML('beforeend', row);
      showMessage('feedMsg', 'âœ… é¥²æ–™æ·»åŠ æˆåŠŸï¼', 'success');
      
      // æ¸…ç©º & æ›´æ–°é¥²æ–™ä¸‹æ‹‰
      document.getElementById('fid').value = '';
      document.getElementById('fname').value = '';
      updateDropdowns(fid, fname, 'feed');
    }

    // æ–°å¢æŠ•å–‚è®°å½•
    function addFeeding() {
      const ftime = document.getElementById('ftime').value;
      const fanimal = document.getElementById('fanimal').value;
      const ffeed = document.getElementById('ffeed').value;
      const femployee = document.getElementById('femployee').value;
      const fquantity = document.getElementById('fquantity').value;
      
      if (!ftime || !fanimal || !ffeed || !femployee || fquantity === '') {
        showMessage('feedingMsg', 'âš ï¸ æ‰€æœ‰å­—æ®µå¿…å¡«', 'error');
        return;
      }
      
      const row = `<tr><td>${ftime.replace('T', ' ')}</td><td>${fanimal}</td><td>${ffeed}</td><td>${femployee}</td><td>${fquantity}</td></tr>`;
      document.querySelector('#feedingTable tbody').insertAdjacentHTML('beforeend', row);
      showMessage('feedingMsg', 'âœ… æŠ•å–‚è®°å½•æ·»åŠ æˆåŠŸï¼', 'success');
      
      // æ¸…ç©º
      document.getElementById('ftime').value = '';
      document.getElementById('fquantity').value = '';
    }

    // åŠ¨æ€æ›´æ–°ä¸‹æ‹‰æ¡†ï¼ˆåŠ¨ç‰©/å‘˜å·¥/é¥²æ–™/å±•åŒºï¼‰
    function updateDropdowns(id, name, type) {
      const selects = {
        animal: ['#fanimal'],
        staff: ['#femployee'],
        feed: ['#ffeed'],
        en: ['#aenid', '#senid']
      };
      
      selects[type]?.forEach(sel => {
        const el = document.querySelector(sel);
        if (el && ['animal','staff','feed','en'].includes(type)) {
          const opt = document.createElement('option');
          opt.value = id;
          if (type === 'en') {
            opt.textContent = `${name} (${id})`;
          } else {
            opt.textContent = `${name} (${id})`;
          }
          el.appendChild(opt);
        }
      });
    }

    // åˆå§‹åŒ–ï¼šå½“å‰æ—¶é—´é»˜è®¤ä¸ºä»Šå¤©
    window.onload = () => {
      const now = new Date();
      const local = new Date(now.getTime() - now.getTimezoneOffset() * 60000)
        .toISOString().slice(0, 16);
      document.getElementById('ftime').value = local;
    };
  </script>
</body>
</html>